{
    "corelightningrest": {
        "class": "CoreLightningRestWallet",
        "settings": {
            "corelightning_rest_url": "http://127.0.0.1:8555",
            "corelightning_rest_macaroon": "eNcRyPtEdMaCaRoOn"
        },
        "api": {
            "status": {
                "server": {
                    "uri": "/v1/channel/localremotebal",
                    "headers": {
                        "macaroon": "eNcRyPtEdMaCaRoOn",
                        "encodingtype": "hex",
                        "accept": "application/json",
                        "User-Agent": "LNbits/0.12.2"
                    },
                    "method": "GET"
                },
                "tests": [
                    {
                        "description": "no balance",
                        "response_type": "json",
                        "server_response": {},
                        "expect": {
                            "error_message": "no data",
                            "balance_msat": 0
                        }
                    },
                    {
                        "description": "with balance",
                        "response_type": "json",
                        "server_response": {
                            "localBalance": 55
                        },
                        "expect": {
                            "error_message": null,
                            "balance_msat": 55000
                        }
                    },
                    {
                        "description": "with error",
                        "response_type": "json",
                        "server_response": {
                            "error": "test-error"
                        },
                        "expect": {
                            "error_message": "Failed to connect to http://127.0.0.1:8555, got: 'test-error...'",
                            "balance_msat": 0
                        }
                    },
                    {
                        "description": "with bad json",
                        "response_type": "json",
                        "server_response": "test-text-error",
                        "expect": {
                            "error_message": "Failed to connect to http://127.0.0.1:8555, got: '\"test-text-error\"...'",
                            "balance_msat": 0
                        }
                    },
                    {
                        "description": "http 404",
                        "response_type": "response",
                        "server_response": {
                            "response": "Not Found",
                            "status": 404
                        },
                        "expect_error": {
                            "module": "httpx",
                            "class": "HTTPStatusError",
                            "message": "Client error '404 NOT FOUND'"
                        }
                    }
                ]
            }
        }
    },
    "lnrest": {
        "class": "LndRestWallet",
        "settings": {
            "lnd_rest_endpoint": "http://127.0.0.1:8555",
            "lnd_rest_macaroon": "eNcRyPtEdMaCaRoOn",
            "lnd_rest_cert": ""
        },
        "api": {
            "status": {
                "server": {
                    "uri": "/v1/balance/channels",
                    "headers": {
                        "Grpc-Metadata-macaroon": "eNcRyPtEdMaCaRoOn",
                        "User-Agent": "LNbits/0.12.2"
                    },
                    "method": "GET"
                },
                "tests": [
                    {
                        "description": "no balance",
                        "response_type": "json",
                        "server_response": {},
                        "expect": {
                            "error_message": "{}",
                            "balance_msat": 0
                        }
                    },
                    {
                        "description": "with balance",
                        "response_type": "json",
                        "server_response": {
                            "balance": 55
                        },
                        "expect": {
                            "error_message": null,
                            "balance_msat": 55000
                        }
                    },
                    {
                        "description": "with error",
                        "response_type": "json",
                        "server_response": {
                            "error": "no balance key"
                        },
                        "expect": {
                            "error_message": "{\n    \"error\": \"no balance key\"\n}",
                            "balance_msat": 0
                        }
                    },
                    {
                        "description": "with bad json #todo: respond with data",
                        "response_type": "json",
                        "server_response": "test-text-error",
                        "expect": {
                            "error_message": "\"test-text-error\"",
                            "balance_msat": 0
                        }
                    },
                    {
                        "description": "http 404",
                        "response_type": "response",
                        "server_response": {
                            "response": "Not Found",
                            "status": 404
                        },
                        "expect_error": {
                            "module": "httpx",
                            "class": "HTTPStatusError",
                            "message": "Client error '404 NOT FOUND'"
                        }
                    }
                ]
            }
        }
    }
}
